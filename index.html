<!DOCTYPE html>
<html lang="uk" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Новини — Мобільний</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        'mono-bg': '#0f0f0f',
        'mono-text': '#e5e5e5',
        'mono-card': '#1a1a1a',
        'mono-accent': '#ffffff'
      },
      animation: {
        'fade-in-up': 'fadeInUp 0.8s ease-out forwards'
      },
      keyframes: {
        fadeInUp: {
          '0%': { opacity: '0', transform: 'translateY(30px)' },
          '100%': { opacity: '1', transform: 'translateY(0)' }
        }
      }
    }
  }
}
</script>
</head>

<body class="bg-mono-bg text-mono-text min-h-screen">

<!-- HEADER -->
<header class="sticky top-0 z-50 bg-mono-bg/90 backdrop-blur-md border-b border-gray-800 flex items-center justify-between p-4">
  <button id="open-sidebar" class="p-2 rounded hover:bg-gray-800">
    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
    </svg>
  </button>
  <h1 class="text-2xl font-bold text-mono-accent">Новини</h1>
</header>

<!-- SIDEBAR -->
<aside id="sidebar" class="fixed left-0 top-0 h-full w-64 bg-mono-card border-r border-gray-800 p-6 transform -translate-x-full transition-transform duration-300 z-50">
  <button id="close-sidebar" class="mb-6 text-gray-400">
    &times;
  </button>
  <h2 class="text-2xl font-bold mb-6">Категорії</h2>
  <div class="space-y-2">
    <button data-cat="all" class="cat-btn w-full text-left px-3 py-2 bg-gray-800 rounded">Усі</button>
    <button data-cat="politics" class="cat-btn w-full text-left px-3 py-2 hover:bg-gray-800 rounded">Політика</button>
    <button data-cat="business" class="cat-btn w-full text-left px-3 py-2 hover:bg-gray-800 rounded">Економіка</button>
    <button data-cat="technology" class="cat-btn w-full text-left px-3 py-2 hover:bg-gray-800 rounded">Технології</button>
    <button data-cat="sports" class="cat-btn w-full text-left px-3 py-2 hover:bg-gray-800 rounded">Спорт</button>
    <button data-cat="world" class="cat-btn w-full text-left px-3 py-2 hover:bg-gray-800 rounded">Світ</button>
  </div>
</aside>
<div id="overlay" class="fixed inset-0 bg-black/60 hidden z-40"></div>

<!-- MAIN CONTENT -->
<main class="p-4 mt-4">
  <div id="news" class="grid gap-6"></div>
  <p id="loading" class="text-center text-gray-400 mt-10 hidden">Завантаження…</p>

  <!-- Горизонтальна стрічка новин -->
  <section class="mt-8">
    <h2 class="text-xl font-bold mb-4 text-center">Стрічка новин</h2>
    <div id="news-feed" class="flex gap-4 overflow-x-auto pb-4"></div>
  </section>
</main>

<!-- MODAL -->
<div id="modal" class="fixed inset-0 bg-black/80 hidden items-center justify-center p-4 z-50">
  <div class="bg-mono-card w-full max-w-md p-6 rounded-xl relative overflow-y-auto max-h-[90vh]">
    <button onclick="closeModal()" class="absolute top-3 right-4 text-2xl">&times;</button>
    <h2 id="modal-title" class="text-2xl font-bold mb-4"></h2>
    <p id="modal-text" class="text-gray-300 leading-relaxed"></p>
  </div>
</div>

<script>
// Sidebar toggle
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');
document.getElementById('open-sidebar').onclick = () => { sidebar.classList.remove('-translate-x-full'); overlay.classList.remove('hidden'); };
document.getElementById('close-sidebar').onclick = () => { sidebar.classList.add('-translate-x-full'); overlay.classList.add('hidden'); };
overlay.onclick = () => { sidebar.classList.add('-translate-x-full'); overlay.classList.add('hidden'); };

// API
const API_KEY = 'ТУТ_ТВІЙ_API';
const BASE_URL = `https://api.thenewsapi.com/v1/news/all?api_token=${API_KEY}&language=uk,ru,en&limit=10`;

const newsEl = document.getElementById('news');
const loadingEl = document.getElementById('loading');
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modal-title');
const modalText = document.getElementById('modal-text');

// Категорії
document.querySelectorAll('.cat-btn').forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('bg-gray-800'));
    btn.classList.add('bg-gray-800');
    loadNews(btn.dataset.cat);
    sidebar.classList.add('-translate-x-full'); overlay.classList.add('hidden');
  }
});

// Завантаження новин
async function loadNews(category='all'){
  newsEl.innerHTML=''; loadingEl.classList.remove('hidden');
  try{
    let url = BASE_URL;
    if(category!=='all') url+=`&categories=${category}`;
    const res = await fetch(url);
    const data = await res.json();
    data.data.forEach(a=>{
      const div = document.createElement('div');
      div.className='bg-mono-card p-4 rounded-xl border border-gray-800 opacity-0 translate-y-10 animate-fade-in-up';
      div.style.animationDelay = `${Math.random()*200}ms`;
      div.innerHTML=`
        <h3 class="text-lg font-semibold mb-2">${a.title}</h3>
        <p class="text-gray-400 mb-3 line-clamp-3">${a.description||'Без опису'}</p>
        <button class="underline text-sm" onclick="openModal('${escape(a.title)}','${escape(a.description||'')}')">Читати</button>
      `;
      newsEl.appendChild(div);
    });
  }catch(e){
    newsEl.innerHTML='<p class="text-center text-gray-500">Не вдалося завантажити новини</p>';
  }finally{ loadingEl.classList.add('hidden'); }
}

// Модалка
function openModal(title,text){ modalTitle.innerText=unescape(title); modalText.innerText=unescape(text)||'Повного тексту немає'; modal.classList.remove('hidden'); modal.classList.add('flex'); }
function closeModal(){ modal.classList.add('hidden'); }

// Стрічка новин
const newsFeedData = Array.from({length:20},(_,i)=>({
  title:`Новина ${i+1}`,
  description:`Короткий опис новини ${i+1}`,
  image:'https://picsum.photos/300/180?random='+ (i+1),
  url:'#'
}));
const feedContainer = document.getElementById('news-feed');
newsFeedData.forEach((news,index)=>{
  const card = document.createElement('div');
  card.className='min-w-[250px] bg-mono-card rounded-xl overflow-hidden border border-gray-800 flex-shrink-0 shadow-sm hover:shadow-md transition-all duration-300 opacity-0 translate-y-6 animate-fade-in-up';
  card.style.animationDelay=`${index*60}ms`;
  card.innerHTML=`
    <img src="${news.image}" alt="" class="w-full h-36 object-cover transition-transform duration-500 hover:scale-105">
    <div class="p-3">
      <h3 class="text-base font-semibold mb-1 line-clamp-2">${news.title}</h3>
      <p class="text-gray-400 text-sm line-clamp-3">${news.description}</p>
      <a href="${news.url}" class="mt-2 inline-block text-xs px-2 py-1 bg-gray-800 hover:bg-gray-700 text-white rounded transition">Читати</a>
    </div>
  `;
  feedContainer.appendChild(card);
});

// Анімація при скролі
const observer = new IntersectionObserver(entries=>{ entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.remove('opacity-0','translate-y-6','translate-y-10'); }); },{threshold:0.2});
document.querySelectorAll('#news > div, #news-feed > div').forEach(card=>observer.observe(card));

// Початкове завантаження
loadNews();
</script>

</body>
</html>
